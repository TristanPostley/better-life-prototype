<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Better Life</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Roboto:wght@300;400&family=Open+Sans:wght@300;400&family=Lato:wght@300;400&family=Montserrat:wght@300;400&family=Playfair+Display:wght@400&family=Merriweather:wght@300;400&family=Source+Sans+Pro:wght@300;400&family=Raleway:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- Debug Controls -->
    <div id="debug-controls" class="hidden">
        <button id="btn-debug">DEBUG</button>
        <button id="btn-debug-menu">MENU</button>
        <input type="number" id="debug-minutes" value="1" min="1" placeholder="mins">
    </div>

    <!-- Landing Page -->
    <section id="landing-page" class="active-page">
        <div class="center-content">
            <h1>Do you want to make your life better?</h1>
            <div class="button-group">
                <button id="btn-yes">Yes</button>
                <button id="btn-no">No</button>
            </div>
        </div>
    </section>

    <!-- Timer Page -->
    <section id="timer-page" class="hidden-page">
        <div class="center-content">
            <div id="timer-intro">
                <h2 id="timer-instruction">Spend <span id="timer-display">10:00</span> minutes making your life better.
                </h2>
                <div id="timer-controls">
                    <button id="btn-start-timer">Start timer</button>
                </div>
            </div>

            <!-- Circular Timer -->
            <div id="circle-timer" class="hidden">
                <div class="circle-wrapper">
                    <svg class="progress-ring" width="280" height="280">
                        <circle class="progress-ring-bg" cx="140" cy="140" r="130" />
                        <circle class="progress-ring-circle" cx="140" cy="140" r="130" />
                    </svg>
                    <div id="circle-time">10:00</div>
                </div>
            </div>

            <button id="btn-help-icon" class="icon-btn" title="Help" onclick="(function(){console.log('Help clicked'); const helpContent = document.getElementById('help-content'); if(helpContent){helpContent.classList.toggle('hidden'); if(!helpContent.classList.contains('hidden')){document.body.classList.add('scrollable'); const journalTab = document.getElementById('journal-tab'); if(journalTab){setTimeout(()=>{journalTab.classList.remove('hidden'); void journalTab.offsetWidth; requestAnimationFrame(()=>{journalTab.classList.add('show');});},3000);}}}else{console.warn('help-content not found');}})()">?</button>

            <div id="help-content" class="hidden">
                <p>You are the expert on how to make your life better.</p>
                <p>If you aren't sure where to start, writing about it goes a long way.</p>
                <!-- <button id="btn-reveal-journal">Reveal Journal</button> -->
            </div>

            <div id="journal-tab" class="hidden">
                <!-- <p>How could you make your life better?</p> -->
                <textarea id="journal-entry" placeholder="Write here..."></textarea>
            </div>
        </div>
    </section>

    <!-- Menu Page -->
    <section id="menu-page" class="hidden-page">
        <div id="menu-content">
            <h1 class="menu-title">Good job, come back again tomorrow.</h1>

            <div class="floating-buttons">
                <button id="btn-questions" class="float-btn float-1">Questions</button>
                <button id="btn-feedback" class="float-btn float-3">Feedback</button>
                <button id="btn-settings" class="float-btn float-4">Settings</button>
            </div>

            <!-- Triangle -->
            <svg id="menu-triangle" class="menu-triangle" width="20" height="20" viewBox="0 0 20 20">
                <polygon points="10,2 18,18 2,18" fill="currentColor" />
            </svg>

        </div>

        <div id="questions-flow" class="hidden">
            <div class="question-item q1 clickable" id="q-how-it-works">How does this work?</div>
            <div class="question-item q2 clickable" id="q-better-today">How did you make your life better today?</div>
            <div class="question-item q3 clickable" id="q-better-life-meaning">What does a better life mean to you?
            </div>
            <div class="question-item q4 clickable" id="q-advice">Looking for advice?</div>
        </div>

        <div id="better-today-flow" class="hidden">
            <input type="text" id="better-today-input" class="borderless-input" placeholder="Write here...">
        </div>

        <div id="better-life-meaning-flow" class="hidden">
            <input type="text" id="better-life-meaning-input" class="borderless-input" placeholder="Write here...">
        </div>

        <div id="how-it-works-flow" class="hidden">
            <div class="explain-item e1">Every day that you complete a focus session on Better Life, the timer will
                increase by 10 minutes.</div>
            <div class="explain-item e2">If you miss a day, the number will drop by 10 minutes. The minimum is 10
                minutes.</div>
            <div class="explain-item e3">How high can you get the number?</div>
        </div>

        <div id="advice-flow" class="hidden">
            <div class="advice-item">Active not Passive</div>
            <div class="advice-item">Journal</div>
            <div class="advice-item">Exercise</div>
            <div class="advice-item">Meditation</div>
            <div class="advice-item">Planning</div>
            <div class="advice-item">Writing</div>
            <div class="advice-item">Drawing</div>
            <div class="advice-item">Music</div>
        </div>


    </section>

    <!-- Modals / Overlays -->
    <div id="modal-overlay" class="hidden">
        <div id="modal-content">
            <span id="close-modal" class="close-btn">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Button handlers loaded as module (replaces inline script) -->
    <script type="module" src="src/client/utils/button-handlers.js"></script>
    <script type="module" src="src/client/app.js"></script>
</body>

</html>